---
title: "Homework 4"
author: "Senan Hogan-H."
date: "29 March 2018"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(echo = TRUE, fig.align="center")
gc()
ls()
options(digits=4)
require(tidyverse)
set.seed(47)
```

## Question 1.

a. $3 \geq x$?

b. $$H_0: p\geq .5 \qquad H_1: p < .5$$

Suppose 3 successes out of 12 were observed.

```{r}
data <- c(rep(1, times = 3), rep(0, times = 9))
frequentist.test <- t.test(data, alternative = "less", mu = 0.5)

frequentist.test
frequentist.test$p.value
frequentist.test$p.value < 0.05
```
Results are significant under frequentist paradiagm, publish away.

c. Suppose now that the data was distributed according to a negative binomial.

```{r}
new.test <- pnbinom(12-3, size = 12, prob = 0.5, lower.tail = TRUE)
new.test
new.test < 0.05
```
Results are not significant under frequentist paradiagm, no publishing will be done today.

d. The ambiguity in data collection methods has made me less confident in frequentist tests of significance.

e. ?

## Question 2.

Let $y|\theta\sim $Pois$(\theta)$ and assume a prior on $\theta$ of Gamma(1,1).

a. $$H_0:\theta \leq 1 \qquad H_1:\theta > 1$$.

b. $H_0:\theta=1$ versus $H_1:\theta\neq1$, with $q_0=P(H_0)=0.5$, and $p_1(\theta)=e^{-\theta}$.

## Question 3.

a. $H_0:p = 0.5  \qquad H_1:p > 0.5$.

Via the central limit theorem, reject the null if $\hat{p}>0.5 + 1.645 \sqrt{\frac{.25}{n}}$.  COnsider the case of a coin with $p=0.501$.

$\hat{p} \sim N(0.501, \sqrt{\frac{0.501(1- 0.501)}{n}})=N(0.501, \sqrt{\frac{0.249999}{n}})= N(0.501, \frac{0.499999}{\sqrt{n}})$.

It follows that $\hat{p}$ is $95\%$ above the value $0.501 - 1.645\frac{0.499999}{\sqrt{n}}$.

If the null is rejected with 95\% certainty, then  $0.501 - 1.645\frac{0.499999}{\sqrt{n}} \geq 0.5 + 1.645 \sqrt{\frac{.25}{n}}.$

$\Rightarrow 0.501 - 0.5 \geq \frac{1.645}{\sqrt{n}}(0.5 + 0.499999)$

$\Rightarrow 0.001 \geq \frac{1.645}{\sqrt{n}}(0.999999)$

$\Rightarrow \sqrt{n} \geq \frac{1.645}{(0.001)(0.999999)}=1645$

$\Rightarrow n \geq 2,706,030$

b. Suppose $p|H_0 \sim N(0.5)$

```{r}
data <- c()

for (i in c(1:1000)){
  
}
```
